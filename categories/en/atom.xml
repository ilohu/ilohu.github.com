<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: EN | Drupal kattintgatás nélkül]]></title>
  <link href="http://ilo.hu/categories/en/atom.xml" rel="self"/>
  <link href="http://ilo.hu/"/>
  <updated>2012-10-28T21:18:07+01:00</updated>
  <id>http://ilo.hu/</id>
  <author>
    <name><![CDATA[York]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Using Xdebug with MAMP and Acquia Drupal Stack]]></title>
    <link href="http://ilo.hu/using-xdebug-with-mamp-and-acquia-drupal-stack/"/>
    <updated>2009-11-20T17:21:48+01:00</updated>
    <id>http://ilo.hu/using-xdebug-with-mamp-and-acquia-drupal-stack</id>
    <content type="html"><![CDATA[<p>Recently I have switched from Linux to OS X.
In order to continue my job effectively I had to set up a proper development environment.
For programming tasks I prefer the <a href="http://www.netbeans.org">NetBeans IDE</a>, which is available for OS X.
I have not yet decided about the server side, so currently I'm testing two alternatives. Those are <a href="http://www.mamp.info">MAMP</a> and the <a href="http://acquia.com">Acquia Drupal Stack</a> which is a great help for Drupal development.
I picked Acquia Drupal Stack because most of my tasks are Drupal related and this tool can save me a lot of time.
You can watch Gabor Hojtsy's presentation on Acquia Drupal Stack at DrupalCamp Hungary: <a href="http://csecsy.hu/boobaa_blogja/hojtsy_gabor_telepites_es_menedzseles_az_acquia_stack_installer_segitsegevel_drupal_hetvege_2009_7_resz">here</a>.</p>

<!-- more -->


<p>Download and install as usual:</p>

<ul>
<li>NetBeans: <a href="http://netbeans.org/downloads/indexC.html">http://netbeans.org/downloads/indexC.html</a></li>
<li>MAMP: <a href="http://www.mamp.info/en/downloads/index.html">http://www.mamp.info/en/downloads/index.html</a></li>
<li>Acquia Drupal Stack: <a href="http://acquia.com/downloads/mac-installer">http://acquia.com/downloads/mac-installer</a></li>
</ul>


<p>As a last step you need to install Xdebug.</p>

<h2>Enabling Xdebug in MAMP</h2>

<p>Fortunately MAMP contains a pre-compiled xdebug.so file, so you only need to enable it in php.ini. At the same time make sure that Zend optimizer is disabled because it does not work together with Xdebug.
Edit php.ini using your favorite text editor:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nano /Applications/MAMP/conf/php5/php.ini
</span></code></pre></td></tr></table></div></figure></notextile></div>
Change the end of the file to this:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ini'><span class='line'><span class="c">;[Zend]</span>
</span><span class='line'><span class="c">;zend_optimizer.optimization_level=15</span>
</span><span class='line'><span class="c">;zend_extension_manager.optimizer=/Applications/MAMP/bin/php5/zend/lib/Optimizer-3.3.3</span>
</span><span class='line'><span class="c">;zend_optimizer.version=3.3.3&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;;zend_extension</span><span class="o">=</span><span class="s">/Applications/MAMP/bin/php5/zend/lib/ZendExtensionManager.so&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;p&gt;[xdebug]&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;xdebug.default_enable</span><span class="o">=</span><span class="s">1&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;xdebug.remote_enable</span><span class="o">=</span><span class="s">1</span>
</span><span class='line'><span class="na">xdebug.remote_handler</span><span class="o">=</span><span class="s">dbgp</span>
</span><span class='line'><span class="na">xdebug.remote_host</span><span class="o">=</span><span class="s">localhost</span>
</span><span class='line'><span class="na">xdebug.remote_port</span><span class="o">=</span><span class="s">9000</span>
</span><span class='line'><span class="na">xdebug.remote_autostart</span><span class="o">=</span><span class="s">1&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;zend_extension</span><span class="o">=</span><span class="s">&quot;/Applications/MAMP/bin/php5/lib/php/extensions/no-debug-non-zts-20060613/xdebug.so&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Restart MAMP and check phpinfo()'s output. If you see the following lines then you've successfully enabled Xdebug.
<img src="/images/i/MAMP_phpinfo_xdebug.jpg" alt="MAMP phpinfo xdebug" /></p>

<h2>Enabling Xdebug in Acquia Drupal Stack</h2>

<p>Acquia Drupal Stack doesn't contain a pre-compiled xdebug.so file, so you have two choices. Either you compile it from source or use MAMP's pre-compiled xdebug.so file. I chose the latter one. (Note: MAMP ships with php 5.2.11, whilst Acquia Drupal Stack uses version 5.2.9.)</p>

<p>Copy xdebug.so from MAMP to Acquia Drupal Stack:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> /Applications/acquia-drupal/php/ext/
</span><span class='line'>cp /Applications/MAMP/bin/php5/lib/php/extensions/no-debug-non-zts-20060613/xdebug.so .
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Open php.ini using your favorite text editor:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nano /Applications/acquia-drupal/php/bin/php.ini
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Add the following lines to the end:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ini'><span class='line'><span class="err">[xdebug]&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;xdebug.default_enable</span><span class="o">=</span><span class="s">1&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;xdebug.remote_enable</span><span class="o">=</span><span class="s">1</span>
</span><span class='line'><span class="na">xdebug.remote_handler</span><span class="o">=</span><span class="s">dbgp</span>
</span><span class='line'><span class="na">xdebug.remote_host</span><span class="o">=</span><span class="s">localhost</span>
</span><span class='line'><span class="na">xdebug.remote_port</span><span class="o">=</span><span class="s">9080</span>
</span><span class='line'><span class="na">xdebug.remote_autostart</span><span class="o">=</span><span class="s">1&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="na">&lt;p&gt;zend_extension</span><span class="o">=</span><span class="s">/Applications/acquia-drupal/php/ext/xdebug.so</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
In this example Xdebug is using port 9080, which is needed to make sure that MAMP and Acquia Drupal Stack don't use the same port.
If you are not going to use them simultaneously then port 9000 is also fine here.</p>

<p>You can use phpinfo() from Acquia Drupal Stack's settings:
<img src="/images/i/Acquia_Settings.jpg" alt="Acquia Settings" /></p>

<p>If you see the following then you've successfully enabled Xdebug:
<img src="/images/i/Acquia_phpinfo_xdebug.jpg" alt="Acquia phpinfo xdebug" /></p>

<h2>Real time debugging with NetBeans</h2>

<p>Below you can see the settings for PHP debugging in MAMP environment:
<img src="/images/i/NetBeans_xdebug.jpg" alt="NetBeans xdebug" /></p>

<p>If you use Acquia Drupal Stack, change PHP 5 Interpreter and Debugger Port settings respectively.
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PHP 5 Interpreter: /Applications/acquia-drupal/php/bin/php
</span><span class='line'>Debugger Port: 9080</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Web browser settings should look like this way:</p>

<p><img src="/images/i/NetBeans_Browser_Options.jpg" alt="NetBeans Browser Options" /></p>

<p><img src="/images/i/NetBeans_Settings_Web_Browsers.jpg" alt="NetBeans Settings Web Browsers" /></p>

<p>Now you only need to set a break point and start debugging.</p>

<p>I would like to thank <a href="http://itarato.blogspot.com/">itarato</a> and <a href="http://zserno.blogspot.com/">zserno</a> for their help in writing this article.
This article was translated to English by <a href="http://zserno.blogspot.com/">zserno</a>. For the original hungarian article click <a href="http://openproject.hu/blog/york/mamp-es-acquia-drupal-stack-felruhazasa-xdebug-kepesseggel">here</a>.</p>

<p>References:</p>

<ul>
<li><a href="http://debuggable.com/posts/setting-up-xdebug-on-mac-os-x-or-win32-linux:480f4dd6-0240-4a90-8fa1-4e41cbdd56cb">http://debuggable.com/posts/setting-up-xdebug-on-mac-os-x-or-win32-linux:480f4dd6-0240-4a90-8fa1-4e41cbdd56cb</a></li>
<li><a href="http://robshouse.net/article/xdebug-komodo-and-acquia-drupal-stack-installer">http://robshouse.net/article/xdebug-komodo-and-acquia-drupal-stack-installer</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
